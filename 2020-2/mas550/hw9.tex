\begin{problem}[4.1.7] \hfill

	By definition of $\Var (X | \mathcal{F})$, we get the following:
\[
	E \left( \Var (X | \mathcal{F} ) \right) = EX^2 - E\left( E(X|\mathcal{F})^2 \right)
\]
	And clearly,
\[
	\Var \left( E(X|\mathcal{F}) \right) = E\left( E(X|\mathcal{F})^2 \right) - \left( E( E(X|\mathcal{F}) ) \right)^2
\]

Therefore, by summing them vertically, we can get
\[
	\Var \left( E(X|\mathcal{F}) \right) + E\left( \Var(X|\mathcal{F} \right) = EX^2 - \left( E(E(X|\mathcal{F})) \right)^2
\]
which is equal to $\Var(X)$ since the last term is equal to square of $EX$.
\qed
\end{problem}

\begin{problem}[4.1.9] \hfill
\[
	\begin{split}
		\int |X-Y|^2 dP
		& = \int X^2 - 2XY + Y^2 dP \\
		& = \int X^2 - 2E(XY | \mathcal{G}) +Y^2 dP \\
		& = \int X^2 -2X E(Y|\mathcal{G}) +Y^2 dP \\
		& = \int X^2 - 2X^2 + Y^2 dP \\
		& = EY^2 - EX^2 \\
		& = 0
	\end{split}
\]
Therefore, $|X-Y|^2 = 0$ a.s. which implies $X = Y$ a.s.
Note that $XY$ is integrable by Holder's inequality for $p = q = 2$ and finite second moment of $X, Y$.
\qed
\end{problem}

\begin{problem}[4.2.3] \hfill

	Clearly $\mathcal{F}_m \subset \mathcal{F}_{m+1}$ for all positive integer $m$.
	Let $Z_n = X_n \vee Y_n$, then $Z_n$ is clearly $\mathcal{F}_n$ measurable.
	
	Now, let $A \in \mathcal{F}_{n-1}$. Then,
\[
	\begin{split}
		\int_A E(Z_n | \mathcal{F}_{n-1}) dP
		& = \int_A Z_n dP \\
		& \geq \int_A X_n dP \vee \int_A Y_n dP \\ 
		& = \int_A E(X_n | \mathcal{F}_{n-1})dP \vee \int_A E(Y_n | \mathcal{F}_{n-1}) dP \\
		& \geq \int_A X_{n-1} dP \vee \int_A Y_{n-1} dP
	\end{split}
\]
Therefore $\int_A E(Z_n | \mathcal{F}_{n-1}) dP \geq \int_A X_{n-1}, Y_{n-1} dP$ for all $A \in \mathcal{F}_{n-1}$.
Since $E(Z_n | \mathcal{F}_{n-1})$ is $\mathcal{F}_{n-1}$ measurable, we can conclude that conditional expectation of $Z_n$ with respect to $\mathcal{F}_{n-1}$ is equal or greater than $X_{n-1}$ and $Y_{n-1}$ a.s.

So, $Z_n$ is a submartingale.
\qed
\end{problem}

\begin{problem}[4.2.9] \hfill

	Note that $\left\{ N > n \right\} = \left\{ N \leq n \right\}^c \in \mathcal{F}_{n}$ and $\left\{ N<n \right\} = \left\{ N \leq n-1 \right\} \in \mathcal{F}_{n-1}$ since $N$ is integer valued. 
	Now, consider the following:

\[
	\begin{split}
		E(Z_n | \mathcal{F}_{n-1})
		& = 1_{N \geq n} E(X_n^1 | \mathcal{F}_{n-1}) + 1_{N < n} E(X_n^2 |\mathcal{F}_{n-1}) \\
		& \leq 1_{N \geq n} X_{n-1}^1 + 1_{N<n}X_{n-1}^2 \\
		& = 1_{N > n-1} X_{n-1}^1 + 1_{N \leq n-1} X_{n-1}^2 \\
		& \leq 1_{N \geq n-1} X_{n-1}^1 + 1_{N < n-1} X_{n-1}^2 \\
		& = Z_{n-1}
	\end{split}
\]
So, $Z_n$ is supermartingale.

	Now, consider the $Y_n$:
	
	First, $Y_n = X_n^1 1_{N>n} + X_N^2 1_{N=n} + X_n^2 1_{N<n} \leq X_n^1 1_{N\geq n} + X_n^2 1_{N <n}$.
\[
	\begin{split}
		E(Y_n |\mathcal{F}_{n-1})
		& \leq 1_{N\geq n} E\left( X_n^1 | \mathcal{F}_{n-1} \right) + !_{N<n}E\left( X_n^2 | \mathcal{F}_{n-1} \right) \\
		& \leq 1_{N \geq n} X_{n-1}^1 + 1_{N < n}X_{n-1}^2 \\
		& = 1_{N > n-1} X_{n-1}^1 + 1_{N \leq n-1}X_{n-1}^2 \\
		& = Y_{n-1}
	\end{split}
\]
So, $Y_n$ is also a supermartingale. \qed
\end{problem}
